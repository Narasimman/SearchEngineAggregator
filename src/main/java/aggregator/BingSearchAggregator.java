package aggregator;import java.io.IOException;import java.io.UnsupportedEncodingException;import java.net.URLEncoder;import java.util.ArrayList;import java.util.List;import org.jsoup.Jsoup;import org.jsoup.nodes.Document;import org.jsoup.nodes.Element;import org.jsoup.select.Elements;import aggregator.IAggregator;import aggregator.Link.Builder;/** * results of bing * @author Narasimman * */public class BingSearchAggregator implements IAggregator {  private static final String BASE_URL = "http://www.bing.com/search?q=";  @Override  public List<Link> getResults(String query) {    Document doc;    List<Link> results = new ArrayList<Link>();        try {      String queryEncoded = BASE_URL + URLEncoder.encode(query, "UTF-8");      doc = Jsoup.connect(queryEncoded)          .userAgent("Mozilla")          .ignoreHttpErrors(true)          .timeout(5000)          .get();      Elements linkList = doc.select("li.b_algo");                  for (Element element : linkList) {        Elements result = element.select("h2 a");        final String title = result.text();        final String url = result.attr("href");        Link link = new Builder()          .url(url)          .title(title)          .type(SourceType.BING)          .build();                results.add(link);      }          } catch (UnsupportedEncodingException e) {            e.printStackTrace();    } catch (IOException e) {      e.printStackTrace();    }        return results;  }}